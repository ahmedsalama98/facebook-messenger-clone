{"version":3,"sources":["components/Message.js","firebase.js","App.js","index.js"],"names":["Message","forwardRef","props","ref","isuser","username","message","className","text","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","firestore","App","useState","input","setinput","setusername","messeges","setmesseges","addmessge","e","a","preventDefault","trim","collection","add","timestamp","FieldValue","serverTimestamp","useEffect","prom","prompt","orderBy","onSnapshot","snap","fetched","docs","map","doc","data","id","src","toUpperCase","onSubmit","FormControl","Input","type","value","onChange","target","placeholder","IconButton","variant","color","disabled","inedx","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"6SAiBeA,EAdCC,sBAAW,SAACC,EAAQC,GAEhC,IAAMC,EAAOF,EAAMG,WAAaH,EAAMI,QAAQD,SAI9C,OACI,sBAAKE,UAAS,kBAAaH,GAAS,gBAAmBD,IAAKA,EAA5D,WACCC,GAAW,qCAAQF,EAAMI,QAAQD,SAAtB,OACZ,kCAAKH,EAAMI,QAAQE,c,cCGzBC,IAASC,cAXY,CACnBC,OAAQ,0CACRC,WAAY,iDACZC,YAAa,qEACbC,UAAW,iCACXC,cAAe,6CACfC,kBAAmB,gBACnBC,MAAO,6CACPC,cAAe,iBAKV,IAAMC,EAAIV,IAASW,Y,yCCqFbC,MA1Ff,WAAgB,IAAD,EAEUC,mBAAS,IAFnB,mBAERC,EAFQ,KAEAC,EAFA,OAGgBF,mBAAS,IAHzB,mBAGRjB,EAHQ,KAGGoB,EAHH,OAIgBH,mBAAS,IAJzB,mBAIRI,EAJQ,KAIGC,EAJH,KAOTC,EAAS,uCAAG,WAAMC,GAAN,SAAAC,EAAA,yDAEhBD,EAAEE,iBAEiB,KAAhBR,EAAMS,OAJO,gCAMZb,EAAGc,WAAW,YAAYC,IAAI,CAClC7B,SAAWA,EACXG,KAAOe,EACPY,UAAU1B,IAASW,UAAUgB,WAAWC,oBATxB,OAWdb,EAAS,IAXK,2CAAH,sDAwCb,OAvBFc,qBAAU,WAER,IAAIC,EAAMC,OAAO,mBAiBnB,OAdU,OAAPD,GAA6B,KAAdA,EAAKP,OACrBP,EAAY,SAEZA,EAAYc,GAEMpB,EAAGc,WAAW,YAAYQ,QAAQ,YAAa,QAAQC,YAAW,SAAAC,GAElF,IAAIC,EAAUD,EAAKE,KAAKC,KAAI,SAAAC,GAC1B,OAAO,2BAAIA,EAAIC,QAAf,IAAsBC,GAAGF,EAAIE,QAE/BtB,EAAY,YAAIiB,SAKlB,IAKE,qBAAKrC,UAAU,cAAf,SACA,sBAAKA,UAAU,YAAf,UACA,qBAAK2C,IAAI,6GACT,yCAAa7C,EAAS8C,iBAEtB,qBAAK5C,UAAU,mBAAf,SACA,sBAAO6C,SAAUxB,EAAjB,SACI,eAACyB,EAAA,EAAD,WACA,cAACC,EAAA,EAAD,CAAOC,KAAK,OAAQC,MAAOjC,EAAQkC,SAAU,SAAA5B,GAAC,OAAIL,EAASK,EAAE6B,OAAOF,QAASG,YAAY,wBAEzF,cAACC,EAAA,EAAD,CAAYC,QAAQ,YAAYC,MAAM,UAAWP,KAAK,SAASQ,UAAWxC,EAA1E,SACC,cAAC,IAAD,aAYL,qBAAKhB,UAAU,eAAf,SAEA,cAAC,IAAD,UAECmB,EAASoB,KAAI,SAACxC,EAAU0D,GAAX,OACd,cAAC,EAAD,CAAS3D,SAAUA,EAAUC,QAASA,GAAcA,EAAQ2C,iBCpFhEgB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.00941b3c.chunk.js","sourcesContent":["import React, { forwardRef } from 'react';\r\n\r\n\r\nconst Message = forwardRef((props , ref)=> {\r\n\r\n    const isuser=props.username === props.message.username;\r\n\r\n\r\n    \r\n    return (\r\n        <div className={`message ${isuser&& \"user-message\" }`} ref={ref}>\r\n       {!isuser &&  <span> {props.message.username} </span>}\r\n        <p> {props.message.text}</p>  \r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Message;\r\n\r\n","import firebase from \"firebase/app\"\r\nimport \"firebase/firestore\" \r\n\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDOsnW8dMGF6f8WN81Lrh-BvZ-tsDnHZ38\",\r\n    authDomain: \"facebook-messenger-clone-33284.firebaseapp.com\",\r\n    databaseURL: \"https://facebook-messenger-clone-33284-default-rtdb.firebaseio.com\",\r\n    projectId: \"facebook-messenger-clone-33284\",\r\n    storageBucket: \"facebook-messenger-clone-33284.appspot.com\",\r\n    messagingSenderId: \"1074949321543\",\r\n    appId: \"1:1074949321543:web:d20b9b178ae28e379c5262\",\r\n    measurementId: \"G-JXHFR61YZ9\"\r\n  };\r\n  // Initialize Firebase\r\n  firebase.initializeApp(firebaseConfig);\r\n\r\n  export const db= firebase.firestore()","import './App.css';\r\nimport React , {useEffect , useState}  from  'react';\r\nimport { Button , FormControl , InputLabel , Input  } from '@material-ui/core';\r\nimport Message from \"./components/Message\";\r\nimport {db} from \"./firebase\";\r\nimport firebase from \"firebase\";\r\nimport FlipMove from 'react-flip-move';\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport { IconButton } from '@material-ui/core';\r\n\r\n\r\n\r\nfunction App() {\r\n\r\nconst [input , setinput]=useState(\"\");\r\nconst [username , setusername]=useState(\"\");\r\nconst [messeges , setmesseges]=useState([]);\r\n\r\n\r\nconst addmessge = async(e)=>{\r\n\r\n  e.preventDefault()\r\n\r\n  if(input.trim() !==\"\"){\r\n\r\nawait db.collection(\"messeges\").add({\r\n  username : username ,\r\n  text : input,\r\n  timestamp:firebase.firestore.FieldValue.serverTimestamp()\r\n  })\r\n    setinput(\"\");\r\n  }\r\n\r\n}\r\n\r\n\r\nuseEffect(()=>{\r\n\r\n  let prom =prompt(\"inter your name\");\r\n\r\n\r\nif(prom===null || prom.trim()===\"\"){\r\n  setusername(\"guest\")\r\n}else{\r\n  setusername(prom)\r\n}\r\n  let unsubscribe = db.collection(\"messeges\").orderBy(\"timestamp\" ,\"desc\").onSnapshot(snap =>{\r\n\r\n    let fetched = snap.docs.map(doc =>{\r\n      return {...doc.data(),id:doc.id}\r\n    })\r\n    setmesseges([...fetched])\r\n  })\r\n\r\n\r\nreturn unsubscribe;\r\n},[])\r\n\r\n\r\n  return (\r\n\r\n    <div className=\"message-app\">\r\n    <div className=\"container\">\r\n    <img src=\"https://facebookbrand.com/wp-content/uploads/2020/10/Logo_Messenger_NewBlurple-399x399-1.png?w=100&h=100\"></img>\r\n    <h1>Hello  { username.toUpperCase()}</h1>\r\n\r\n    <div className=\"new-messege-area\">\r\n    <form  onSubmit={addmessge}>\r\n        <FormControl>\r\n        <Input type=\"text\"  value={input}  onChange={e => setinput(e.target.value)}  placeholder=\"inter a message ...\" />\r\n\r\n        <IconButton variant=\"contained\" color=\"primary\"  type=\"submit\" disabled={!input}> \r\n        {<SendIcon />}\r\n        </IconButton>\r\n \r\n        </FormControl>\r\n    </form>\r\n\r\n \r\n\r\n    </div>\r\n  \r\n\r\n\r\n    <div className=\"messeges-box\">\r\n\r\n    <FlipMove>\r\n\r\n    {messeges.map((message , inedx) =>\r\n    <Message username={username} message={message} key={message.id}/>\r\n    )}\r\n    \r\n    </FlipMove>\r\n\r\n    </div>\r\n\r\n\r\n    </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}